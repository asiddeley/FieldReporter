<script type="text/javascript">
//ready
$(function(){

const SQL="CREATE TABLE IF NOT EXISTS projects (pnum, pname, address, client, gc);";

//using jquery keeps global space polution free
$("#frm-project").submit(function(){
	/********
	form onsubmit event handler...
	
	This took forever to get get right yet so simple! Important to return true which proceeds with post to server. Returning false or no return prevents submitting values to server. 

	Do input field validation here...	
	****/

	return true;
});

$("#frm-receiver").on("load", function(){
	/*** https://stackoverflow.com/questions/4487623/target-a-div-using-form ***/
	console.log("Response sent to hidden iframe");
});

$("#btn-apply").on("click", function(){
	$("#SQL").val("UPDATE projects SET pnum=$pnum, pname=$pname, address=$address, client=$client, gc=$gc WHERE pnum=$pnum;");
});

$("#btn-del").on("click", function(){
	//$("#SQL").val(SQL);
});

$("#btn-new").on("click", function(){
	$("#SQL").val(SQL+"INSERT INTO project VALUES ( $pnum, $pname, $address, $client, $gc );");
});

$("#btn-first").on("click", function(){
	$("#SQL").val("SELECT * FROM projects LIMIT 1");
});

$("#btn-next").on("click", function(){
	$("#SQL").val("SELECT * FROM projects WHERE pnum > $pnum ORDER BY pnum ASC LIMIT 1");
});

$("#btn-prev").on("click", function(){
	$("#SQL").val("SELECT * FROM projects WHERE pnum < $pnum ORDER BY pnum DESC LIMIT 1");
});

$("#btn-last").on("click", function(){
	$("#SQL").val("SELECT * FROM projects ORDER BY pnum DESC LIMIT 1");
});


});
</script>



<div class="container-fluid">

<form id="frm-project" action="/formHandler" method="post" target="frm-receiver">

<fieldset>
<legend>Project</legend>

<input id="SQL" type="hidden" name="SQL" value="...SET BY BUTTONS BEFORE SUBMIT...">

<div class="input-group">
  <span class="input-group-addon" >Project number</span>
  <input class="form-control" name="pnum" type="text"  placeholder="..." aria-describedby="basic-addon1" value="-">
  
  <span class="input-group-addon" >Client</span>
  <input name="client" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="7">
  
  <span class="input-group-addon" >GC</span>
  <input name="gc" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="8">
</div>

<div class="input-group"> 
  <span class="input-group-addon " >Project name</span>
  <input name="pname" type="text"  class="form-control " placeholder="..." aria-describedby="basic-addon1" value="-">
</div>

<div class="input-group">
  <span class="input-group-addon" >Address</span>
  <input name="address" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="-">
</div>

<div class="input-group">

</div>


<div class="input-group col-md-6" >
<button id="btn-new" type="submit" class="btn btn-default ">Add new</button>
<button id="btn-del" type="submit" class="btn btn-default ">Delete</button>
<button id="btn-first" type="submit" class="btn btn-default ">First</button>
<button id="btn-prev" type="submit" class="btn btn-default ">&lt;&lt;Previous</button>
<button id="btn-next" type="submit" class="btn btn-default ">Next&gt;&gt;</button>
<button id="btn-last" type="submit" class="btn btn-default ">Last</button>
<button id="btn-apply" type="submit" class="btn btn-default ">Update</button>
</div>


</fieldset>
</form>

<h4>Status</h4>
<iframe id="frm-receiver" name="frm-receiver"  style="display:inline, width:100%"></iframe>

</div>


