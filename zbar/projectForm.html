<script type="text/javascript">
//ready
$(function(){

const SQL="CREATE TABLE IF NOT EXISTS projects (pname, pnum, street, city, prov, pcode, client, gc);";

//using jquery keeps global space polution free
$("#frm-project").submit(function(){
	/********
	form onsubmit event handler...
	
	This took forever to get get right yet so simple! Important to return true which proceeds with post to server. Returning false or no return prevents submitting values to server. 

	Do input field validation here...	
	****/

	return true;
});

$("#frm-receiver").on("load", function(){
	/*** https://stackoverflow.com/questions/4487623/target-a-div-using-form ***/
	console.log("Response sent to hidden iframe");
});

$("#btn-apply").on("click", function(){
	$("#SQL").val("UPDATE projects SET pname=$1, pnum=$2, street=$3, city=$4, prov=$5, pcode=$6, client=$7, gc=$8;");
});

$("#btn-del").on("click", function(){
	$("#SQL").val(SQL);
});

$("#btn-new").on("click", function(){
	$("#SQL").val(SQL+"INSERT INTO project ($1, $2, $3, $5, $6, $7, $8);");
});

$("#btn-next").on("click", function(){
	$("#SQL").val(SQL);
});

$("#btn-prev").on("click", function(){
	$("#SQL").val(SQL);
});



});
</script>

<iframe name="frm-receiver" id="frm-receiver" style="display:none" />


<div class="container-fluid">

<form id="frm-project" action="/formHandler" method="post" target="frm-receiver">

<fieldset>
<legend>Project</legend>

<input id="SQL" type="hidden" name="SQL" value="...SET BY BUTTONS BEFORE SUBMIT...">

<div class="input-group">
  <span class="input-group-addon" >Project name</span>
  <input name="pname" type="text"  class="form-control" placeholder="..." aria-describedby="basic-addon1" value="1">

  <span class="input-group-addon" >Project number</span>
  <input name="pnum" type="text"   class="form-control" placeholder="..." aria-describedby="basic-addon1" value="2">
</div>

<div class="input-group">
  <span class="input-group-addon" >Street</span>
  <input name="street" type="text" class="form-control" placeholder=".." aria-describedby="basic-addon1" value="3">
  
  <span class="input-group-addon" >City</span>
  <input name="city" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="4">
  
  <span class="input-group-addon" >Province</span>
  <input name="prov" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="5">
  
  <span class="input-group-addon" >Postal code</span>
  <input name="pcode" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="6">
</div>

<div class="input-group">
  <span class="input-group-addon" >Client</span>
  <input name="client" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="7">
  
   <span class="input-group-addon" >GC</span>
  <input name="gc" type="text" class="form-control" placeholder="..." aria-describedby="basic-addon1" value="8">
</div>


<div class="input-group col-md-6" >
<button id="btn-new" type="submit" class="btn btn-default ">New Project</button>
<button id="btn-del" type="submit" class="btn btn-default ">Delete</button>
<button id="btn-prev" type="submit" class="btn btn-default ">&lt;&lt;Previous</button>
<button id="btn-next" type="submit" class="btn btn-default ">Next&gt;&gt;</button>
<button id="btn-apply" type="submit" class="btn btn-default ">Apply</button>
</div>


</fieldset>
</form>
</div>


