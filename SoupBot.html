<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title id='browserTab' >aisBot</title>


<!-- bootstrap v4 -->
<!--
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" 
	integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
-->

<script type='text/javascript' src="jquery/jquery.js"></script>
<script type='text/javascript' src="jquery/jquery-ui.js"></script>
<link rel="stylesheet" type="text/css" href="jquery/jquery-ui.theme.css">
<link rel="stylesheet" type="text/css" href="jquery/jquery-ui.structure.css">
<link rel="stylesheet" type="text/css" href="jquery/jquery-ui.css">

<!-- bootstrap Libraries (after jQuery) -->
<script type='text/javascript' src="./bootstrap/bootstrap.min.js"></script>
<link rel="stylesheet" href="./bootstrap/bootstrap.min.css">



<!-- soup Library -->
<script type='text/javascript' src="./soup/dist/soup.js"></script>
<!--script type='text/javascript' data-main="soup/soup" src="require/require.js"></script-->

<!-- Handlebars Template engine -->
<!--script type='text/javascript' src="handlebars/handlebars-v4.0.10.js"></script-->

<!--script type='text/javascript' src="./handlebars/handlebars.min-latest.js" ></script-->
<!--script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.min.js"></script-->
<!--script type = "text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.js"></script-->


<script type="text/javascript" src="./soup/aiEnglishGrammar.js"></script>
<script type="text/javascript" src="./soup/aiWordMatcher.js"></script>


<style rel="stylesheet">
.row-bot {background:CORNSILK;}
.row-user {}

.navbar-brand{margin:0;padding:0;}
.navbar-brand img{max-height: 100%;}


</style>

<script type="text/javascript">

//prevent accidental image drop
$(window).on({
	"drop": function(e){ e=e||event; e.preventDefault(); false;},
	"dragover":function(e){ e=e||event; e.preventDefault(); false;}
});

//inhibit the browser's right-click context menu
$(document).on("contextmenu", false);


////////////////globals
var wm, NOUNS;

function aiSubmit(rangeStr){

	var ul$=$("<ul></ul>").attr("class","row-user").text(rangeStr);
	$("#turnDialog").append(ul$);
	var result=wm.match(rangeStr);	
	var r=aiResponse(result);	
	ul$=$("<ul></ul>").attr("class","row-bot").text(r);
	$("#turnDialog").append(ul$);
	$(window).scrollTop(ul$.offset().top);

}

function aiResponse(result){

	return "thinking...";
}



$(function() { 

	//console.log(window.dbAPI);
	
	NOUNS=aiEnglishGrammar.wordClasses.nouns;
	
	//console.log("aiWordMatcher", window.aiWordMatcher);
	//wordMatcer initializaiton
	wm=new aiWordMatcher();
	//wm.patternCallbackArgs(result, ai);
			
	//Add pattern responses...
	//respond to "hello" with a string "Hi..."
	wm.pattern("hello", "Hi, my name is Monolito."); 
	//respond to pattern with a function
	wm.pattern("[noun] is [verb] a [noun]", function(result, ai){} ); 

	//Define terms...
	//this one is resolved, Ie. it is a function that returns true or false within 5 recursions
	wm.define("[noun]", function(w, ic){return(NOUNS.indexOf(w)!= -1);}); 
	
	//this one is resolved, since the right string has operators (| means OR) and
	//the terms (words) are endpoints if no further definitions of them are found.  
	wm.define("[verb]", "read|reading|run|running");
	
	//a term can have multiple definitions, synonym...  
	//wm.define("read", "parse & take-in & inform & understand");

	//define by mapping, read=parse, reading=parsing
	//wm.define("read, reading", "parse, parsing");
	
	//resolved definition I.e reference made to a hash/dictionary eg. {... read:{meaning:"", sim:[]}...]}}
	//wm.define("[adverb]", "#ADVERB_DICTIONARY");
	
	//unresolved definition - right string has OR operators and words that are definitions 
	//wm.define("[phrase]", "[pronoun][noun]|[noun]")
	
	
	////////// {match:true, score:0.1, response:1, msg:""}
	//var r=wm.match("Andrew is at home, reading a magazine"); 
	//console.log("pattern map result:",JSON.stringify(r));


	
}); //ready



</script>

</head>



<body>


<!-- TEMPLATES               -->
<template id='comments-template' type="text/x-handlebars-template">

	{{#each comments}}
	<div class='row row_'
			indexx={{@index}}
			onmouseenter='$(this).css("background-color","pink")'
			onmouseleave='$(this).css("background-color","white")'
			oncontextmenu='showMenu(CM$, event)'>
		<p id='itemNo'  indexx={{@index}} class='col-xs-1 itemNo'>{{#indexPlusOne @index}}{{/indexPlusOne}}</p>
		<p id='comment' indexx={{@index}} class='col-xs-10 comment-cell'>{{msg}}</p>
		<p id='picNo' indexx={{@index}} class='col-xs-1 picNo'>{{picRef}}</p>
	</div>
	{{/each}}
	
</template>

	
<!-- MENUS               -->
<div id='commentsMenu' onmouseleave='CM$.hide()' style='display:none'>
	<p onclick='commentsInsert(0, commentsData)'>Insert before</p>
	<p onclick='commentsInsert(1, commentsData)'>Insert after</p>
	<hr>
	<p onclick='console.log("Move up");$("#rowOptions").hide();'>Move up</p>
	<p onclick='console.log("Move dn");$("#rowOptions").hide();'>Move dn</p>
	<hr>
	<p onclick='commentsDelete(event);'>Delete</p>
	<hr>
	<p onclick='console.log("hide");'>Hide</p>
	<p onclick='console.log("show");'>Show hidden</p>
	<hr>
	<p onclick='testInsert();'>Test insert</p>
	<hr>
	<p onclick='CM$.hide()'>Exit</p>
</div>

<!-- PAGE STARTS HERE        -->


<nav class="navbar navbar-fixed-top navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">
        <img alt="MONOLITO" src="./soup/aiMonolito50x50.png">
      </a>
    </div>
	<p class="navbar-text">MONOLITO BOT</p>
	
	
    <div
		nnnnnonsubmit="function(e){e.preventDefault();}"
		class="navbar-form navbar-left">
    <div class="form-group">
	<input id="userInput" type="text" class="form-control" placeholder="enter text">
	</div>
	<button class="btn btn-default"	onclick="aiSubmit($('#userInput').val());">Submit</button>
	</div>	

	
  </div>
</nav>	
<br><br><br><br>
<div class="container-fluid">
	<!-- PANEL STARTS HERE -->
	<div class="panel panel-default" style="-width: 30rem;">


	<div class="panel-heading">Session 101<br>
	<!--</div><div class="panel-body">-->
	date: 13:24, 23 Sep 2017<br>
	context No.: 23,101<br>
	participant: Andrew
	</div>
	
	<ul id="turnDialog" class="list-group list-group-flush">
		<!-------------------------
		<li class="list-group-item">hello</li>
		<li class="list-group-item row-bot">hi</li>
		<li class="list-group-item">what is the meaning of life?</li>
		<li class="list-group-item row-bot" >long or short answer?</li>
		<li class="list-group-item">hello</li>
		<li class="list-group-item row-bot">hi</li>
		<li class="list-group-item">what is the meaning of life?</li>
		<li class="list-group-item row-bot" >long or short answer?</li>
		<li class="list-group-item">hello</li>
		<li class="list-group-item row-bot">hi</li>
		<li class="list-group-item">what is the meaning of life?</li>
		<li class="list-group-item row-bot" >long or short answer?</li>
		<li class="list-group-item">hello</li>
		<li class="list-group-item row-bot">hi</li>
		<li class="list-group-item">what is the meaning of life?</li>
		<li class="list-group-item row-bot" >long or short answer?</li>
		<li class="list-group-item">hello</li>
		<li class="list-group-item row-bot">hi</li>
		<li class="list-group-item">what is the meaning of life?</li>
		<li class="list-group-item row-bot" >long or short answer?</li>
		-------------------->
		
		
		</ul>

	<div class="panel-footer panel-primary">
		<p>Session 101</p>
		<div class="btn-group btn-group-xs" role="group" aria-label="...">
		<button type="button" class="btn btn-default">yes</button>
		<button type="button" class="btn btn-default">no</button>
		<button type="button" class="btn btn-default">quit Session</button>
		</div>
		<!--a href="#" class="card-link">Card link</a -->
		<!--a href="#" class="card-link">Another link</a -->
	</div> 	<!-- END OF PANEL -->
</dev><!-- END OF container -->

 


		


<!-- TURN DIALOG TEST  
<div class="line-container"> 
    <ul> 
       <li class="place-right right-msg-container"> 
       <span class="msg-box-right" data-timestamp=" 9:19 PM" data-readed="read">Hello</span> 
       </li> 
      <li class="place-right clear-fix right-msg-container"> 
        <span class="msg-box-right" data-timestamp=" 9:19 PM" data-readed="read">You are awesome</span> 
       </li> 
      <li class="place-left clear-fix left-msg-container"> 
       <span class="msg-box-left" data-timestamp="9:20 PM">Thanks:)</span> 
       </li> 
      <li class="place-left clear-fix left-msg-container"> 
         <span class="msg-box-left" data-timestamp="9:20 PM">You, too.</span> 
       </li> 
       <li class="place-left clear-fix left-msg-container"> 
         <span class="msg-box-left" data-timestamp="9:20 PM">Ism.</span> 
       </li> 
 
 
      <li class="place-right clear-fix right-msg-container"> 
         <span class="msg-box-right" data-timestamp="9:20  PM" data-readed="read">Espn test msg.</span> 
       </li> 
       <li class="place-left clear-fix left-msg-container"> 
         <span class="msg-box-left" data-timestamp="9:21 PM">Wonderful</span> 
       </li> 
     </ul> 
 
 
   </div> 

-->

</body>

</html>

